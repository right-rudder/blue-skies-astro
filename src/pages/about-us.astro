---
// Import necessary components
import MainLayout from "@/layouts/MainLayout.astro";
import MainSection from "@components/ui/blocks/MainSection.astro";
import LeftSection from "@components/ui/blocks/LeftSection.astro";
import RightSection from "@components/ui/blocks/RightSection.astro";
import FeaturesStats from "@components/sections/features/FeaturesStats.astro";
import AOSInit from "@/components/utils/AOSInit.jsx";
import CTA from "@/components/sections/misc/CTA.astro";
import NumbersAnimation from "@/components/sections/NumbersAnimation.astro";

// Import necessary images
import blueprints from "../assets/images/blue-skies-over-auburn.webp";
import personWorking from "../assets/images/blue-skies-student-with-instructor.webp";
import beforeAfter from "../assets/images/blue-skies-team-of-cfis-and-commercial-pilots.webp";
import constructionWorkers from "../assets/images/view-from-the-skies.webp";
import aerialView from "../assets/images/student-getting-his-spin-endorsement.jpg";
import usingTools from "../assets/images/multi-engine-plane.webp";
import progressBuilding from "../assets/images/blue-skies-selfie-auburn-opelika.webp";
import underConstruction from "../assets/images/blue-skies-ppl-private-pilot-checkride-pass.webp";
import imgOurStory from "../assets/images/matthew-founder-blue-skies-school-flying.webp";
import { SITE } from "@data/constants";

interface Article {
  isRightSection: boolean;
  title: string;
  subTitle: string;
  btnExists?: boolean;
  btnTitle?: string;
  btnURL?: string;
  single?: boolean;
  img?: any;
  imgAlt?: string;
  imgOne?: any;
  imgOneAlt?: string;
  imgTwo?: any;
  imgTwoAlt?: string;
}

const articles: Article[] = [
  {
    isRightSection: true,
    title: "Flight Training That Works",
    subTitle:
      "Blue Skies Above delivers a structured yet flexible training approach tailored to students of all experience levels. Whether you're brand new to aviation or working toward advanced ratings, our programs are designed to guide you step by step without wasting time or resources.\n\nStudents benefit from real-world flying scenarios, not just textbook theory. With a curriculum developed by seasoned instructors and an emphasis on hands-on learning, our training builds true confidence in the cockpit from the very first flight.",
    single: false,
    imgOne: blueprints,
    imgOneAlt: "Flight training syllabus materials",
    imgTwo: personWorking,
    imgTwoAlt: "Instructor with student at planning table",
  },
  {
    isRightSection: false,
    title: "A Legacy of Passionate Instruction",
    subTitle:
      "At Blue Skies Above, our instructors aren’t just certified—they’re committed. Many of our team members have spent their lives in aviation, and they bring that experience into every lesson with energy, patience, and purpose.\n\nWe believe effective training is built on trust, connection, and clear communication. That’s why our instructors strive to be mentors, not just teachers—helping students overcome challenges, celebrate wins, and stay motivated all the way to their final checkride.",
    img: beforeAfter,
    imgAlt: "Before and after images of confident pilot training",
    btnExists: true,
    btnTitle: "Meet the Team",
    btnURL: "/our-team",
  },
  {
    isRightSection: true,
    title: "Strategic Location for Better Learning",
    subTitle:
      "Our home base at Lanett Regional Airport (7A3) provides the perfect environment for accelerated learning. With minimal air traffic and wide-open skies, students enjoy more time in the air and less time on the ground waiting for clearance.\n\nThis means more takeoffs, more landings, and more opportunities to refine your skills in every lesson. The airport’s location also makes it a peaceful and focused setting for learning—ideal for both new students and time-building CFIs.",
    single: false,
    imgOne: constructionWorkers,
    imgOneAlt: "Flight instructors with students near aircraft",
    imgTwo: aerialView,
    imgTwoAlt: "Aerial view of Lanett Regional Airport",
    btnExists: true,
    btnTitle: "Start training with no delay",
    btnURL: "/discovery-flights",
  },
  {
    isRightSection: false,
    title: "Modern Fleet, Classic Values",
    subTitle:
      "Our aircraft are selected to match both student needs and instructional goals. With dependable Cessna 172s, our fleet is ideal for learning, progressing, and building real-world flying skills.\n\nEach plane is meticulously maintained to meet the highest safety standards. Paired with instructors who prioritize both technical accuracy and airmanship, your time in the cockpit is as productive as it is inspiring.",
    img: usingTools,
    imgAlt: "Student pilot using checklist inside cockpit",
    btnExists: true,
    btnTitle: "Meet our fleet",
    btnURL: "/our-fleet",
  },
  {
    isRightSection: true,
    title: "From First Flight to Final Checkride",
    subTitle:
      "Whether you're here for a once-in-a-lifetime Discovery Flight or a full pilot certification path, Blue Skies Above is with you from day one. We support every step of your journey, from pre-solo nerves to checkride confidence.\n\nEach milestone is a shared success. Our team celebrates your progress, adapts to your pace, and ensures you always know your next step forward. We’re not just building pilots—we’re shaping careers and lifelong memories.",
    single: false,
    imgOne: progressBuilding,
    imgOneAlt: "Progress bar overlay on training process",
    imgTwo: underConstruction,
    imgTwoAlt: "Student receiving instruction pre-flight",
    btnExists: true,
    btnTitle: "Start Your Training",
    btnURL: "/enroll-at-blue-skies",
  },
];

const pageTitle: string = `About Us | ${SITE.title}`;
const metaDescription =
  "Learn more about Blue Skies Above Flight School — your trusted partner in aviation training located in Lanett, Alabama.";
const ogTitle = "About Blue Skies Above | Premier Flight Training in Alabama";

const ctaDiscovery = {
  isRightSection: true,
  title: "Ready to Take the Controls?",
  subTitle:
    "Your aviation journey can begin today with a Discovery Flight at Blue Skies Above. Sit beside a certified instructor, take the controls, and experience the thrill of piloting an aircraft—no experience needed.\n\nIt’s more than a flight—it’s your first step into a new world of opportunity. See what it’s like to learn in our aircraft, meet our team, and explore whether becoming a pilot is the path for you.",
  single: true,
  imgOne: personWorking,
  imgOneAlt: "Flight training syllabus materials",
  imgTwo: beforeAfter,
  imgTwoAlt: "Instructor with student at planning table",
  btnExists: true,
  btnTitle: "Book Now",
  btnURL: "/discovery-flights",
};
---

<MainLayout
  title={pageTitle}
  customDescription={metaDescription}
  customOgTitle={ogTitle}
  structuredData={{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "@id": "",
    url: "",
    name: "About Blue Skies Above",
    description: metaDescription,
    isPartOf: {
      "@type": "WebSite",
      url: "",
      name: SITE.title,
      description: metaDescription,
    },
    inLanguage: "en-US",
  }}
>
  <!-- <AOSInit is:client="load" /> -->
  <MainSection
    title="Welcome to Blue Skies Above"
    subTitle="Where aspiring pilots take flight — through efficient training, supportive mentorship, and a vibrant aviation community."
    btnExists={true}
    btnTitle="Contact Us"
    btnURL="/contact"
  />

  {
    articles.map((article) => {
      return article.isRightSection ? (
        <RightSection
          title={article.title}
          subTitle={article.subTitle}
          single={article.single}
          imgOne={article.imgOne}
          imgOneAlt={article.imgOneAlt}
          imgTwo={article.imgTwo}
          imgTwoAlt={article.imgTwoAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      ) : (
        <LeftSection
          title={article.title}
          subTitle={article.subTitle}
          img={article.img}
          imgAlt={article.imgAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      );
    })
  }

  <FeaturesStats
    title="By the Numbers"
    subTitle="A proven track record of successful training."
    mainStatTitle="100+"
    mainStatSubTitle="Students certified and flying"
    stats={[
      {
        stat: "13 weeks",
        description: "Average time to complete Private Pilot Certificate.",
      },
      {
        stat: "7A3",
        description: "Quiet, efficient airport with minimal air traffic.",
      },
      {
        stat: "8 Programs",
        description: "Full range of pilot training from PPL to MEI.",
      },
    ]}
  />
  <div class="md:hidden">
    <NumbersAnimation />
  </div>

  <LeftSection
    title="Our Story"
    subTitle="Blue Skies Above is a flight school born out of the mind of Chief Flight Instructor and Founder Matthew Bourguignon. Named after a catchphrase used in the past by his own flight instructor, Matthew chose to continue the tradition in his flight school. Blue Skies was a phrase used at the end of almost any conversation or call during his flight instruction and reminds Matthew of his former CFI, the biggest influence in Matthew's attraction to aviation."
    img={imgOurStory}
    imgAlt="{article.imgAlt}"
    btnExists={false}
    btnTitle="{article.btnTitle}"
    btnURL="{article.btnURL}"
  />
  <CTA content={ctaDiscovery} />
</MainLayout>

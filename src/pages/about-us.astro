---
// Import necessary components
import MainLayout from "@/layouts/MainLayout.astro";
import MainSection from "@components/ui/blocks/MainSection.astro";
import LeftSection from "@components/ui/blocks/LeftSection.astro";
import RightSection from "@components/ui/blocks/RightSection.astro";
import FeaturesStats from "@components/sections/features/FeaturesStats.astro";
import AOSInit from "@/components/utils/AOSInit.astro";
import CTA from "@/components/sections/misc/CTA.astro";

// Import necessary images
import blueprints from "../assets/images/blue-skies-over-auburn.webp";
import personWorking from "../assets/images/blue-skies-student-with-instructor.webp";
import beforeAfter from "../assets/images/blue-skies-team-of-cfis-and-commercial-pilots.webp";
import constructionWorkers from "../assets/images/view-from-the-skies.webp";
import aerialView from "../assets/images/student-getting-his-spin-endorsement.jpg";
import usingTools from "../assets/images/multi-engine-plane.webp";
import progressBuilding from "../assets/images/blue-skies-selfie-auburn-opelika.webp";
import underConstruction from "../assets/images/blue-skies-ppl-private-pilot-checkride-pass.webp";
import { SITE } from "@data/constants";

interface Article {
  isRightSection: boolean;
  title: string;
  subTitle: string;
  btnExists?: boolean;
  btnTitle?: string;
  btnURL?: string;
  single?: boolean;
  img?: any;
  imgAlt?: string;
  imgOne?: any;
  imgOneAlt?: string;
  imgTwo?: any;
  imgTwoAlt?: string;
}

const articles: Article[] = [
  {
    isRightSection: true,
    title: "Flight Training That Works",
    subTitle: "Blue Skies Above offers structured yet flexible programs that cater to future pilots at all levels. Our students experience a hands-on, real-world aviation environment guided by expert instructors.",
    single: false,
    imgOne: blueprints,
    imgOneAlt: "Flight training syllabus materials",
    imgTwo: personWorking,
    imgTwoAlt: "Instructor with student at planning table",
  },
  {
    isRightSection: false,
    title: "A Legacy of Passionate Instruction",
    subTitle: "Our team is made of career aviators who bring experience, passion, and patience to every lesson. We believe in making training effective and enjoyable.",
    img: beforeAfter,
    imgAlt: "Before and after images of confident pilot training",
    btnExists: true,
    btnTitle: "Meet the Team",
    btnURL: "/about-us",
  },
  {
    isRightSection: true,
    title: "Strategic Location for Better Learning",
    subTitle: "Operating from Lanett Regional (7A3) gives our students the advantage of less congested airspace, allowing for more takeoffs, landings, and meaningful flight time.",
    single: false,
    imgOne: constructionWorkers,
    imgOneAlt: "Flight instructors with students near aircraft",
    imgTwo: aerialView,
    imgTwoAlt: "Aerial view of Lanett Regional Airport",
    btnExists: true,
    btnTitle: "Start training with no delay",
    btnURL: "/discovery-flight",
  },
  {
    isRightSection: false,
    title: "Modern Fleet, Classic Values",
    subTitle: "With Cessna 172s and Cherokee 140s, our fleet is dependable and perfectly suited for student pilots. Safety, comfort, and reliability come standard.",
    img: usingTools,
    imgAlt: "Student pilot using checklist inside cockpit",
    btnExists: true,
    btnTitle: "Meet our fleet",
    btnURL: "/our-fleet",
  },
  {
    isRightSection: true,
    title: "From First Flight to Final Checkride",
    subTitle: "Whether you're exploring aviation with a Discovery Flight or preparing for your checkride, we're with you every step of the way.",
    single: false,
    imgOne: progressBuilding,
    imgOneAlt: "Progress bar overlay on training process",
    imgTwo: underConstruction,
    imgTwoAlt: "Student receiving instruction pre-flight",
    btnExists: true,
    btnTitle: "Start Your Training",
    btnURL: "/discovery-flight",
  },
];

const pageTitle: string = `About Us | ${SITE.title}`;
const metaDescription = "Learn more about Blue Skies Above Flight School — your trusted partner in aviation training located in Lanett, Alabama.";
const ogTitle = "About Blue Skies Above | Premier Flight Training in Alabama";

const ctaDiscovery = {
    isRightSection: true,
    title: "Ready to Take the Controls?",
    subTitle: "Book a Discovery Flight and experience the thrill of flying firsthand. You'll take the controls with an expert instructor and see the world from a whole new perspective.",
    single: true,
    imgOne: personWorking,
    imgOneAlt: "Flight training syllabus materials",
    imgTwo: beforeAfter,
    imgTwoAlt: "Instructor with student at planning table",
    btnExists: true,
    btnTitle: "Book Now",
    btnURL: "/discovery-flight",
};
---

<MainLayout
  title={pageTitle}
  customDescription={metaDescription}
  customOgTitle={ogTitle}
  structuredData={{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "@id": "",
    url: "",
    name: "About Blue Skies Above",
    description: metaDescription,
    isPartOf: {
      "@type": "WebSite",
      url: "",
      name: SITE.title,
      description: metaDescription,
    },
    inLanguage: "en-US",
  }}
>
  <AOSInit client:load />
  <MainSection
    title="Welcome to Blue Skies Above"
    subTitle="Where aspiring pilots take flight — through efficient training, supportive mentorship, and a vibrant aviation community."
    btnExists={true}
    btnTitle="Contact Us"
    btnURL="/contact"
  />

  {
    articles.map((article) => {
      return article.isRightSection ? (
        <RightSection
          title={article.title}
          subTitle={article.subTitle}
          single={article.single}
          imgOne={article.imgOne}
          imgOneAlt={article.imgOneAlt}
          imgTwo={article.imgTwo}
          imgTwoAlt={article.imgTwoAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      ) : (
        <LeftSection
          title={article.title}
          subTitle={article.subTitle}
          img={article.img}
          imgAlt={article.imgAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      );
    })
  }

  <FeaturesStats
    title="By the Numbers"
    subTitle="A proven track record of successful training."
    mainStatTitle="100+"
    mainStatSubTitle="Students certified and flying"
    stats={[
      {
        stat: "13 weeks",
        description: "Average time to complete Private Pilot Certificate."
      },
      {
        stat: "7A3",
        description: "Quiet, efficient airport with minimal air traffic."
      },
      {
        stat: "8 Programs",
        description: "Full range of pilot training from PPL to MEI."
      }
    ]}
  />

  <CTA content={ctaDiscovery}  />
</MainLayout>
